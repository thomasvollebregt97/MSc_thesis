# MSc_thesis
This repository contains all code and data to reproduce results for my thesis for MSc Econometrics. Each file has a short description of its functionality. Important: the source file with all data for all European countries was too big to upload to github. Therefore I have only uploaded the log-returns. I can send the source file on request via WeTransfer.

# Data preparation
Contains the exploratory data analysis file. This file was used to clean the data and produce log-returns that in turn would be used by the .R files for volatility modeling.

# 1. Electricity price dataset
Contains all the log-returns needed for this research, and the dates that accompany the log-return data. 

# 2. GARCH modeling
The file contains the most important scripts for the conditional volatilit models. R is used to model the electricity price data with the conditional volatility models, ARCH, GARCH, E-GARCH, GJR-GARCH and MS-GARCH. The main reason is the library called MS-GARCH which is implemented in R and not in python. R has extensive libraries on conditional volatility models useful for this thesis. The main file that is used. tocall all necessary functions to produce forecasts and features is called: GARCH_models_nstep.R. This file is used to produce forecasts and features. Important: forecasts are out-of-sample for the test set. Features are the forecasts also for. thein-sample dataset, because these features are needed as input for the hybrid models that need in-sample forecasts as training data.

# 3. Figures
Contains several plots of the forecasts of the GARCH family and LSTM models.

# 4. LSTM predictions
Fitting all LSTM and hybrid models to the data is very time intensive. Due to large dat available, and the goal to outperform the naive predictions, a lot of parameters and nodes are needed to improve forecasting performance. Therefore all predictions of the LSTM's are included. The files are named as follows: LSTM_preds_arch_ged_12 are the predictions of the hybrid LSTM model that got the realized volatility and the forecasts of the ARCH(1) model as added feature as input and was used to produce 12-step ahead forecasts [LSTM_preds_model_distr_nahead.csv]. The folder name describes the country for which these predictions were made. 
(Sidenote, this was done on a MAC with 8 GB RAM). 

### R ###

EP_GARCH_models_nstep.R:

### Python ###
Python is used for its extensive library's for neural network modeling such as Keras and TensorFlow. Our study uses the TensorFlow library that allows for more flexibility than the Keras library.

Model_functions.py:
All functions used to produce forecasts using LSTM and hybrid models, each function has detailed description of its inputs and outputs.

EP_modeling_file.ipynb:
The notebook that calls the functions written in model_function.py to produce forecasts. It imports 2 important datasets generated by the EP_GARCH_models_nstep.R file. In-sample forecasts are used as features to train the hybrid LSTM models. The out-of-sample forecasts are used to calculate forecast errors and used by the hybrid LSTM top prodcue forecasts.

### Files ###

LSTM_preds/EP/:
This folder contains all the predictions of the LSTM and hybrid models. For example: lstm_preds_arch_std_12.csv contains the predictions of the hybrid LSTM-ARCH model assuming a student-t distributions, containing 12-step ahead forecasts.

Simulated_sequences/:
This folder contains all the simulated time series sequences, the prediction of the volatility of these sequences and the 1, 12 and 24 step ahead forecast for each point in the time series that is used as a feature for the hybrid LSTM modeling. That is why the files are called: features.



